# Mutation for register
mutation {
  register(input: {
    email: "daniel@studybuddies.com",
    password: "Daniel123!",
    username: "danielnedelcu",
    firstName: "Daniel",
    lastName: "Nedelcu"
  }) {
    token
    user { userID email username }
  }
}



# Mutation for login
mutation Login($input: LoginInput!) {
  login(input: $input) {
    token
    user {
      userID
      email
      username
    }
  }
}

# Mutation for logout
mutation { logout }


# Mutation for removing someone
mutation {
  removeUser(username: "bob")
}



# Mutation for adding a position to someone
mutation {
  addPositionToUser(username: "alice", positionID: 1) {
    userID
    username
    position { positionID name seniority }
    roles { roleID name }
  }
}

# Mutation for removing a position from someone
mutation {
  removePositionFromUser(username: "bob") {
    userID
    username
    position { positionID name seniority }
    roles { roleID name }
  }
}

# Mutation for creating a new position
mutation {
  createPosition(name: "Cloud Engineer", seniority: "Senior") {
    positionID
    name
    seniority
  }
}

# Mutation for deleting a position
mutation {
  removePosition(positionID: 5) {
    positionID
    name
    seniority
  }
}



# Mutation for creating a new sprint
mutation {
  createSprint(input: { number: 1, description: "Sprint 1", startDate: "2026-06-01", endDate: "2026-06-15", projectID: 1 }) {
    sprintID
    number
    description
    startDate
    endDate
    project { 
      projectID 
      name 
    }
  }
}

# Mutation for updating a sprint
mutation {
  updateSprint(input: { sprintID: 1, number: 6, description: "Updated" }) {
    sprintID
    number
    description
    startDate
    endDate
  }
}

# Mutation for deleting a sprint
mutation {
  deleteSprint(sprintID: 1)
}



# Mutation for creating a new task
mutation {
  createTask(input: { name: "Implement login", description: "Add JWT login flow", status: "Open", assigneeUsername: "alice", projectName: "Project1", sprintNumber: 1 }) {
    taskID
    name
    description
    status
    assignee { 
      userID 
      username 
    }
    reporter { 
      userID 
      username 
    }
    sprint { 
      sprintID 
      number 
    }
    project { 
      projectID 
      name 
    }
  }
}

# Mutation for updating a task
mutation {
  updateTask(input: { taskID: 1, name: "Fix login bug", status: "InProgress", assigneeUsername: "alice", projectName: "Project1", sprintNumber: 1 }) {
    taskID
    name
    status
    assignee { 
      userID 
      username 
    }
    reporter { 
      userID 
      username 
    }
    sprint { 
      sprintID 
      number 
    }
    project { 
      projectID 
      name 
    }
  }
}

# Mutation for deleting a task
mutation {
  deleteTask(taskID: 1)
}



# Mutation for creating a new comment
mutation {
  createComment(input: { text: "Uncomment the test after fixing", taskID: 1 }) {
    commentID
    text
    date
    user { 
      userID 
      username 
    }
    task { 
      taskID 
      name 
    }
  }
}

# Mutation for updating a comment
mutation {
  updateComment(input: { commentID: 1, text: "Updated: Uncomment the test after fixing" }) {
    commentID
    text
    date
    user { userID username }
    task { taskID name }
  }
}

# Mutation for deleting a comment
mutation {
  deleteComment(commentID: 1)
}